<div class="popup">

  <div class="header">
    Save and load filters
  </div>

  <div class="content container">

    <!-- Load -->
    <div class="row mt-2">
      <!-- Dropdown -->
      <div class="col flx-center">
        <mat-form-field appearance="fill" style="white-space: nowrap;">
          <mat-label>Select filter</mat-label>
          <mat-select [(value)]="selected" (selectionChange)="selectChanged()">
            <mat-option *ngFor="let filter of filters" [value]="filter.name">
              <ng-container *ngIf="filter.isDefault">*</ng-container>
              <ng-container *ngIf="!filter.isDefault">&nbsp;</ng-container>
              {{filter.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- Load button -->
      <div class="col flx-center">
        <button class="btn btn-sm btn-custom-primary" style="white-space: nowrap;" (click)="load()">
          <i class="fas fa-folder-open"></i>
          Load
        </button>
      </div>

      <!-- Delete button -->
      <div class="col flx-center">
        <button class="btn btn-sm btn-custom-danger" style="white-space: nowrap;" (click)="del()">
          <i class="fas fa-trash-alt"></i>
          Delete
        </button>
      </div>

    </div>

    <mat-divider></mat-divider>

    <!-- Save -->
    <div class="row mt-2">

      <!-- Filter name -->
      <div class="col">
        <mat-form-field class="form-field" style="width: 100%;">
          <mat-label>Filter name</mat-label>
          <input matInput type="text" [(ngModel)]="newName" (keyup)="newNameChanged()">
        </mat-form-field>
      </div>

    </div>
    <div class="row mb-2">

      <div class="col flx-center">
        <button class="btn btn-sm btn-custom-primary" (click)="save()">
          <i class="fas fa-save"></i>&nbsp;
          <ng-container *ngIf="!filterNames.includes(newName)">Save</ng-container>
          <ng-container *ngIf="filterNames.includes(newName)">Overwirte</ng-container>
        </button>
      </div>

      <div class="col flx-center">
        <input type="checkbox" id="isDefaultCheck" [(ngModel)]="isDefault">
        <label for="isDefaultCheck" style="margin-bottom: 0; margin-left: 5px;">Default filter</label>
      </div>

    </div>

  </div>

</div>